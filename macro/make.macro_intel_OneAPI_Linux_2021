# Makefile for SOSIE with Intel Ifort on Linux
# ============================================

# Fortran compiler:
FC = ifort

# Root directory for Netcdf:
# netcf libraries are in: <NETCDF_DIR>/lib/
# netcdf module 'netcdf.mod' in: <NETCDF_DIR>/include/
NETCDF_DIR = /opt/hdf5_netcdf4_intel

# Linking argument: usually "-lnetcdff", "-lnetcdf" or "-lnetcdf -lnetcdff" :
L_NCDF = -lnetcdff
# WARNING: io_ezcdf.f90 MUST NOT be compiled with `-qopenmp`


# Compiler's libraries location:
LIB_COMP_DIR = $(INTEL_DIR)/compiler/lib/intel64_lin
# Linking argument for OpenMP library:
L_OMP  = -liomp5

# Fortran compilation flags:
# -- Common:
FF_BASE = -i4 -module mod
# -- Production:
#FF = -qopenmp -O3 -xHOST -traceback $(FF_BASE)
# -- Debugging:
FF = -qopenmp -O0 -fpe0 -g -check all -warn all -traceback -debug extended -C $(FF_BASE)

## For io_ezcdf.f90 (netCDF bug => "-fpe0" cannot be used here:
FF_SAFE = -O0 -i4 -xHOST -traceback $(FF_BASE)

# Directory to install binaries:
INSTALL_DIR = /usr/local

